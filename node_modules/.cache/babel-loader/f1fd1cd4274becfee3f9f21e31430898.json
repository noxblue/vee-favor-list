{"remainingRequest":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Signup.vue","mtime":1586346054137},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586346047403},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1586346053418},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js","mtime":1586346047190},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586346047403},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js","mtime":1586346053661}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyZGF0YTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbmlja25hbWU6ICIiCiAgICAgIH0sCiAgICAgIGNoZWNrZGF0YTogewogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvdXRlLm1ldGEudGl0bGU7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaWdudXA6IGZ1bmN0aW9uIHNpZ251cCgpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy51c2VyZGF0YSk7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLiR2YWxpZGF0b3IudmFsaWRhdGVBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICB2YXIgdGVtcFVzZXJkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcnMiKSk7IC8v5pqr5a2Y5pW05YyFdXNlcnPos4fmlpnpgLLooYzmr5TlsI0KCiAgICAgICAgICBpZiAodGVtcFVzZXJkYXRhKSB7CiAgICAgICAgICAgIHRlbXBVc2VyZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0udXNlcm5hbWUgPT0gdm0udXNlcmRhdGEudXNlcm5hbWUpIHsKICAgICAgICAgICAgICAgIC8v5q+U5bCN5pyJ55u45ZCM5biz6Jmf5pmC5aCx6Yyv77yM5Zue5Yiw55m75YWl55Wr6Z2iCiAgICAgICAgICAgICAgICBhbGVydCgi5L2/55So6ICF5biz6Jmf5bey6KKr6Ki75YaK6YGO77yM6KuL55u05o6l55m75YWlIik7CiAgICAgICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGVtcFVzZXJkYXRhLnB1c2godm0udXNlcmRhdGEpOyAvL+aykuacieebuOWQjOW4s+iZn+WJh+Wwh+atpOW4s+iZn+izh+aWmeWtmOWFpeaVtOWMhXVzZXJzCgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJzIiwgSlNPTi5zdHJpbmdpZnkodGVtcFVzZXJkYXRhKSk7CiAgICAgICAgICAgICAgICBhbGVydCgi6Ki75YaK5oiQ5Yqf77yBIik7CiAgICAgICAgICAgICAgICB2bS4kZW1pdCgidXNlcmxvZ2luIiwgdm0udXNlcmRhdGEudXNlcm5hbWUpOyAvL+WCs+WHunVzZXJuYW1l6LOH5paZ5Yiw54i25YWD5Lu277yM5bCO5ZCRZmF2b3LnlavpnaIKCiAgICAgICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goIi9mYXZvciIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL2xvY2Fs5rKS5pyJdXNlcnPos4fmlpnmmYLnm7TmjqXmlbTljIXlrZjlhaUKICAgICAgICAgICAgdGVtcFVzZXJkYXRhID0gW107CiAgICAgICAgICAgIHRlbXBVc2VyZGF0YS5wdXNoKHZtLnVzZXJkYXRhKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJzIiwgSlNPTi5zdHJpbmdpZnkodGVtcFVzZXJkYXRhKSk7CiAgICAgICAgICAgIGFsZXJ0KCLoqLvlhormiJDlip/vvIEiKTsKICAgICAgICAgICAgdm0uJGVtaXQoInVzZXJsb2dpbiIsIHZtLnVzZXJkYXRhLnVzZXJuYW1lKTsgLy/lgrPlh7p1c2VybmFtZeizh+aWmeWIsOeItuWFg+S7tu+8jOWwjuWQkWZhdm9y55Wr6Z2iCgogICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goIi9mYXZvciIpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OADA;AAMA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA;AANA,KAAA;AAUA,GAZA;AAaA,EAAA,YAbA,0BAaA;AACA,IAAA,QAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,WAAA,GAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,cAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CADA,CACA;;AACA,cAAA,YAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,IAAA,CAAA,QAAA,IAAA,EAAA,CAAA,QAAA,CAAA,QAAA,EAAA;AAAA;AACA,gBAAA,KAAA,CAAA,kBAAA,CAAA;AACA,gBAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,eAHA,MAGA;AACA,gBAAA,YAAA,CAAA,IAAA,CAAA,EAAA,CAAA,QAAA,EADA,CACA;;AACA,gBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,YAAA,CAAA;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,WAAA,EAAA,EAAA,CAAA,QAAA,CAAA,QAAA,EAJA,CAIA;;AACA,gBAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,aAXA;AAYA,WAbA,MAaA;AAAA;AACA,YAAA,YAAA,GAAA,EAAA;AACA,YAAA,YAAA,CAAA,IAAA,CAAA,EAAA,CAAA,QAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,SAAA,CAAA,YAAA,CAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,WAAA,EAAA,EAAA,CAAA,QAAA,CAAA,QAAA,EALA,CAKA;;AACA,YAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,SAvBA,MAuBA;AACA;AACA;AACA,OA3BA;AA4BA;AAhCA;AAhBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container pt-5\">\r\n      <div class=\"row py-1 justify-content-center\">\r\n        <div class=\"col-8 d-flex justify-content-start\">\r\n          <router-link to=\"/\" class=\"btn btn-secondary\">回到登入頁</router-link>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-8 rounded border py-3 px-5\">\r\n          <h1 class=\"font-weight-bold\">註冊我的最愛系統</h1>\r\n          <form action>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"username\" class=\"col-form-label col-3\">使用者帳號</label>\r\n              <!-- 使用自訂規則username進行驗證 -->\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control col-9\"\r\n                id=\"username\"\r\n                v-validate=\"'required|username'\"\r\n                name=\"username\"\r\n                data-vv-as=\"使用者名稱\"\r\n                placeholder=\"請輸入使用者名稱\"\r\n                v-model=\"userdata.username\"\r\n                :class=\"{'is-invalid':errors.has('username'),'is-valid':!errors.has('username')&&userdata.username!==''}\"\r\n              />\r\n            </div>\r\n            <div class=\"col-form-label col py-0\">\r\n              <span\r\n                v-if=\"errors.has('username')\"\r\n                class=\"text-danger text-center small\"\r\n              >{{errors.first('username')}}</span>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <!-- 使用自訂規則password進行驗證 -->\r\n              <label for=\"password\" class=\"col-form-label col-3\">使用者密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control col-9\"\r\n                id=\"password\"\r\n                v-validate=\"'required|password'\"\r\n                name=\"password\"\r\n                ref=\"password\"\r\n                data-vv-as=\"使用者密碼\"\r\n                placeholder=\"請輸入使用者密碼\"\r\n                v-model=\"userdata.password\"\r\n                :class=\"{'is-invalid':errors.has('password'),'is-valid':!errors.has('password')&&userdata.password!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <span\r\n                  v-if=\"errors.has('password')\"\r\n                  class=\"text-danger text-center small\"\r\n                >{{errors.first('password')}}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"password-confirm\" class=\"col-form-label col-3\">確認密碼</label>\r\n              <!-- 使用預設confirmed規則進行password比對 -->\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control col-9\"\r\n                id=\"password-confirm\"\r\n                v-validate=\"'required|confirmed:password'\"\r\n                name=\"password-confirm\"\r\n                data-vv-as=\"確認密碼\"\r\n                placeholder=\"請再次輸入密碼\"\r\n                v-model=\"checkdata.password\"\r\n                :class=\"{'is-invalid':errors.has('password-confirm'),'is-valid':!errors.has('password-confirm')&&checkdata.password==userdata.password&&userdata.password!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <!-- 自訂錯誤訊息：有資料時錯誤為不相同、無資料時錯誤為未填欄位 -->\r\n                <span\r\n                  v-if=\"errors.has('password-confirm')&&checkdata.password!==''\"\r\n                  class=\"text-danger text-center small\"\r\n                >兩次密碼輸入不相同哦！</span>\r\n                <span\r\n                  v-if=\"errors.has('password-confirm')&&checkdata.password==''\"\r\n                  class=\"text-danger text-center small\"\r\n                >確認密碼欄位是必填的哦！</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"password-confirm\" class=\"col-form-label col-3\">用戶暱稱</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control col-9\"\r\n                id=\"nickname\"\r\n                v-validate=\"'min:2'\"\r\n                name=\"nickname\"\r\n                data-vv-as=\"用戶暱稱\"\r\n                placeholder=\"請輸入暱稱 (option)\"\r\n                v-model=\"userdata.nickname\"\r\n                :class=\"{'is-invalid':errors.has('nickname'),'is-valid':!errors.has('nickname')&&userdata.nickname!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <span\r\n                  v-if=\"errors.has('nickname')\"\r\n                  class=\"text-danger text-center small\"\r\n                >{{errors.first('nickname')}}</span>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div class=\"btn btn-primary mt-3 mx-3\" @click=\"signup\">註冊系統</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userdata: {\r\n        username: \"\",\r\n        password: \"\",\r\n        nickname: \"\"\r\n      },\r\n      checkdata: {\r\n        password: \"\"\r\n      }\r\n    };\r\n  },\r\n  beforeCreate(){\r\n    document.title =this.$route.meta.title\r\n  },\r\n  methods: {\r\n    signup() {\r\n      // console.log(this.userdata);\r\n      const vm = this;\r\n      vm.$validator.validateAll().then(result => {\r\n        if (result) {\r\n          let tempUserdata = JSON.parse(localStorage.getItem(\"users\")); //暫存整包users資料進行比對\r\n          if (tempUserdata) {\r\n            tempUserdata.forEach(item => {\r\n              if (item.username == vm.userdata.username) { //比對有相同帳號時報錯，回到登入畫面\r\n                alert(\"使用者帳號已被註冊過，請直接登入\");\r\n                vm.$router.push(\"/\");\r\n              } else {\r\n                tempUserdata.push(vm.userdata); //沒有相同帳號則將此帳號資料存入整包users\r\n                localStorage.setItem(\"users\", JSON.stringify(tempUserdata));\r\n                alert(\"註冊成功！\");\r\n                vm.$emit(\"userlogin\", vm.userdata.username); //傳出username資料到父元件，導向favor畫面\r\n                vm.$router.push(\"/favor\");\r\n              }\r\n            });\r\n          } else { //local沒有users資料時直接整包存入\r\n            tempUserdata = [];\r\n            tempUserdata.push(vm.userdata);\r\n            localStorage.setItem(\"users\", JSON.stringify(tempUserdata));\r\n            alert(\"註冊成功！\");\r\n            vm.$emit(\"userlogin\", vm.userdata.username); //傳出username資料到父元件，導向favor畫面\r\n            vm.$router.push(\"/favor\");\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}