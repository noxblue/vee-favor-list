{"remainingRequest":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Favor.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Favor.vue","mtime":1586341432699},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIC8v5b6eaW5kZXgudnVl5LulcHJvcHPlj5blvpdsb2dpbueahHVzZXLos4fmlpkKICBwcm9wczogWyJsb2dpbnVzZXIiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckRhdGE6IHRoaXMubG9naW51c2VyLAogICAgICAvL+Wwh3Byb3Bz5Y+W5b6X5L2/55So6ICF6LOH5paZ5a2Y5YWldXNlckRhdGHnlKjkvoblj5blvpdmYXZvcuizh+aWme+8jOeJqeS7tuagvOW8j++8mnt1c2VybmFtZTonJyxuaWNrbmFtZTonJ30KICAgICAgdXNlckZhdm9yOiBbXSwKICAgICAgLy/lrZjlj5boqbLkvb/nlKjogIVmYXZvcuizh+aWme+8jOmZo+WIl+agvOW8j+OAgWl0ZW3ngrrnianku7bvvJpbe25hbWU6J+e2suermeWQjeeosScsY29udGVudDon57ay5Z2AJ30se30sLi4uXQogICAgICB0ZW1wRmF2b3JJdGVtOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgY29udGVudDogIiIKICAgICAgfSAvL+aaq+WtmOe3qOi8r+S4reeahOizh+aWme+8jOeJqeS7tuagvOW8j++8mntuYW1lOifntrLnq5nlkI3nqLEnLGNvbnRlbnQ6J+e2suWdgCd9CgogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgZG9jdW1lbnQudGl0bGUgPSB0aGlzLiRyb3V0ZS5tZXRhLnRpdGxlOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCJ1c2VyZGF0YSIsIHRoaXMudXNlckRhdGEpOwogICAgdmFyIHZtID0gdGhpczsKICAgIHZhciB0ZW1wRmF2b3JEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZmF2b3JzIikpOyAvL+agvOW8j+eCuumZo+WIl++8jOWIhuS4jeWQjOS9v+eUqOiAheS4jeWQjOeJqeS7tu+8jOS7pXVzZXJuYW1l5Y2A5YiGW3t1c2VybmFtZTonJyxmYXZvckRhdGE6W3t9LHt9XX0se31dCiAgICAvL2xvY2FsU3RvcmFnZeacieizh+aWme+8jOmAj+mBjmZvckVhY2jku6V1c2VybmFtZeavlOWwjeWPluW+l+atpOS9v+eUqOiAheizh+aWmQoKICAgIGlmICh0ZW1wRmF2b3JEYXRhKSB7CiAgICAgIHRlbXBGYXZvckRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnVzZXJuYW1lID09IHZtLnVzZXJEYXRhLnVzZXJuYW1lKSB7CiAgICAgICAgICB2bS51c2VyRmF2b3IgPSBpdGVtLmZhdm9yRGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgLy/mspLmnInos4fmlpnkuI3kvZzli5UKICAgICAgY29uc29sZS5sb2coIk5vLURhdGEiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5paw5aKeaXRlbQogICAgYWRkRmF2b3JJdGVtOiBmdW5jdGlvbiBhZGRGYXZvckl0ZW0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS4kdmFsaWRhdG9yLnZhbGlkYXRlQWxsKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgLy/ooajllq7os4fmlpnpqZforYnpgJrpgY4KICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICB2bS51c2VyRmF2b3IucHVzaCh2bS50ZW1wRmF2b3JJdGVtKTsgLy/lsIfnt6jovK/kuK3os4fmlpnlrZjlhaV1c2VyRmF2b3LpmaPliJcKCiAgICAgICAgICB2YXIgbmFtZSA9IHZtLnVzZXJEYXRhLnVzZXJuYW1lOwogICAgICAgICAgdmFyIGZhdm9yID0gdm0udXNlckZhdm9yOwogICAgICAgICAgdmFyIGRhdGEgPSBbewogICAgICAgICAgICB1c2VybmFtZTogbmFtZSwKICAgICAgICAgICAgZmF2b3JEYXRhOiBmYXZvcgogICAgICAgICAgfV07IC8v5pW055CG5YKz5YWl6LOH5paZ5qC85byPCgogICAgICAgICAgdmFyIHRlbXBGYXZvckRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmYXZvcnMiKSk7IC8v5pqr5a2YbG9jYWznmoRmYXZvcnPos4fmlpkKCiAgICAgICAgICBpZiAoIXRlbXBGYXZvckRhdGEpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImZhdm9ycyIsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTsgLy9sb2NhbOeEoeizh+aWme+8jOebtOaOpeWCs+WFpQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGVtcEZhdm9yRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgaWYgKGl0ZW0udXNlcm5hbWUgPT0gdm0udXNlckRhdGEudXNlcm5hbWUpIHsKICAgICAgICAgICAgICAgIC8vbG9jYWzmnInos4fmlpnvvIzmib7liLB1c2VybmFtZeWQjOethuizh+aWme+8jOaVtOWMheabv+aPmwogICAgICAgICAgICAgICAgaXRlbS5mYXZvckRhdGEgPSBmYXZvcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZmF2b3JzIiwgSlNPTi5zdHJpbmdpZnkodGVtcEZhdm9yRGF0YSkpOyAvL+Wwh+abv+aPm+WujOizh+aWmeaVtOethuWCs+WFpQogICAgICAgICAgfSAvLyAgIHZtLnRlbXBGYXZvckl0ZW0gPSB7IG5hbWU6ICIiLCBjb250ZW50OiAiIiB9OwogICAgICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdXJsIikuY2xhc3NMaXN0LnJlbW92ZSgiaXMtaW52YWxpZCIpOwogICAgICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjbmFtZSIpLmNsYXNzTGlzdC5yZW1vdmUoImlzLWludmFsaWQiKTsKCgogICAgICAgICAgX3RoaXMuJGRhdGEudGVtcEZhdm9ySXRlbSA9IF90aGlzLiRvcHRpb25zLmRhdGEoKS50ZW1wRmF2b3JJdGVtOyAvL+a4hemZpHRlbXBGYXZvckl0ZW3os4fmlpnlm57liLDpoJDoqK3lgLwKCiAgICAgICAgICBfdGhpcy5lcnJvcnMuY2xlYXIoKTsgLy/muIXnqbrmiYDmnIllcnJvc0JhZ+mMr+iqpOioiuaBrwoKCiAgICAgICAgICBfdGhpcy4kdmFsaWRhdG9yLnJlc2V0KCk7IC8v5riF56m65q2kdmFsaWRhdG9y54uA5oWLCgogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsSXRlbTogZnVuY3Rpb24gZGVsSXRlbShpbmRleCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS51c2VyRmF2b3Iuc3BsaWNlKGluZGV4LCAxKTsgLy/lvp7op7jnmbxpdGVt5Y+W5b6XaW5kZXjvvIzlvp7os4fmlpnkuK3liKrpmaQKCiAgICAgIHZhciBmYXZvciA9IHZtLnVzZXJGYXZvcjsKICAgICAgdmFyIHRlbXBGYXZvckRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJmYXZvcnMiKSk7IC8v5pqr5a2YbG9jYWznmoRmYXZvcuizh+aWmQoKICAgICAgdGVtcEZhdm9yRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udXNlcm5hbWUgPT0gdm0udXNlckRhdGEudXNlcm5hbWUpIHsKICAgICAgICAgIGl0ZW0uZmF2b3JEYXRhID0gZmF2b3I7IC8v5om+5Yiw55u45ZCMdXNlcm5hbWXmm7/mj5vmlbTlgItmYXZvckRhdGHpmaPliJfos4fmlpkKCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZmF2b3JzIiwgSlNPTi5zdHJpbmdpZnkodGVtcEZhdm9yRGF0YSkpOyAvL+Wwh+abv+aPm+WujOizh+aWmeaVtOethuWCs+WFpQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLiRlbWl0KCd1c2VybG9nb3V0Jyk7CiAgICAgIHZtLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Favor.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container my-5\">\r\n      <div class=\"row py-3 justify-content-center\">\r\n        <div class=\"col-9 d-flex justify-content-end\">\r\n          <button class=\"btn btn-outline-danger\" @click=\"logout\">登出</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-9 p-3 rounded border\">\r\n          <h1 class=\"font-weight-bold\">我的最愛清單</h1>\r\n          <div class=\"text-center text-primary h4\">Hi 親愛的 <span class=\"text-warning h5\">{{userData.nickname}}</span>您好！</div>\r\n          <div class=\"text-center text-secondary\">請填入名稱與網址，將網站加入我的最愛清單</div>\r\n          <form action class=\"py-3\">\r\n            <div class=\"container\">\r\n              <div class=\"form-row\">\r\n                <div class=\"form-group col-3 mb-0\">\r\n                  <label for=\"name\" class=\"text-left\">網站名稱</label>\r\n                  <!-- 設定必填、至少2個字元驗證，連結資料tempFavorItem暫存在name -->\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"name\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"請輸入名稱\"\r\n                    v-validate=\"'required|min:2'\"\r\n                    data-vv-as=\"網站名稱\"\r\n                    name=\"name\"\r\n                    v-model=\"tempFavorItem.name\"\r\n                    :class=\"{'is-invalid':errors.has('name'),'is-valid':!errors.has('name')&&tempFavorItem.name!==''}\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group col-7 mb-0\">\r\n                  <label for=\"url\">網址</label>\r\n                  <!-- 設定必填、網址格式(含http的protocol)，連結資料tempFavorItem暫存在content -->\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"url\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"請輸入網址\"\r\n                    v-validate=\"{required:true,url:{require_protocol:true}}\"\r\n                    data-vv-as=\"網址\"\r\n                    name=\"url\"\r\n                    v-model=\"tempFavorItem.content\"\r\n                    :class=\"{'is-invalid':errors.has('url'),'is-valid':!errors.has('url')&&tempFavorItem.content!==''}\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group col-2 align-self-end mb-0\">\r\n                  <div class=\"btn btn-primary\" @click=\"addFavorItem\">加入</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-row\">\r\n                <div class=\"form-group col-3\">\r\n                  <div v-show=\"errors.has('name')\">\r\n                    <span class=\"small text-danger\">{{errors.first('name')}}</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-group col-7\">\r\n                  <div v-show=\"errors.has('url')\">\r\n                    <span class=\"small text-danger\">{{errors.first('url')}}應如：https://www.google.com</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div class=\"list container\">\r\n            <ul class=\"list-group\">\r\n              <li class=\"list-group-item d-flex\" v-for=\"(item,index) in userFavor\" :key=\"index\">\r\n                <div>{{item.name}}</div>\r\n                <div class=\"ml-3\">\r\n                  <a :href=\"item.content\" target=\"_blank\">{{item.content}}</a>\r\n                </div>\r\n                <!-- 點擊刪除該item(以index判斷) -->\r\n                <button type=\"button\" class=\"close ml-auto\" @click=\"delItem(index)\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  //從index.vue以props取得login的user資料\r\n  props: [\"loginuser\"],\r\n  data() {\r\n    return {\r\n      userData: this.loginuser, //將props取得使用者資料存入userData用來取得favor資料，物件格式：{username:'',nickname:''}\r\n      userFavor: [], //存取該使用者favor資料，陣列格式、item為物件：[{name:'網站名稱',content:'網址'},{},...]\r\n      tempFavorItem: {\r\n        name: \"\",\r\n        content: \"\"\r\n      } //暫存編輯中的資料，物件格式：{name:'網站名稱',content:'網址'}\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    document.title = this.$route.meta.title;\r\n  },\r\n  created() {\r\n    console.log(\"userdata\", this.userData);\r\n    const vm = this;\r\n    let tempFavorData = JSON.parse(localStorage.getItem(\"favors\")); //格式為陣列，分不同使用者不同物件，以username區分[{username:'',favorData:[{},{}]},{}]\r\n    //localStorage有資料，透過forEach以username比對取得此使用者資料\r\n    if (tempFavorData) {\r\n      tempFavorData.forEach(item => {\r\n        if (item.username == vm.userData.username) {\r\n          vm.userFavor = item.favorData;\r\n        }\r\n      });\r\n    } else {\r\n      //沒有資料不作動\r\n      console.log(\"No-Data\");\r\n    }\r\n  },\r\n  methods: {\r\n    //新增item\r\n    addFavorItem() {\r\n      const vm = this;\r\n      vm.$validator.validateAll().then(result => {\r\n        //表單資料驗證通過\r\n        if (result) {\r\n          vm.userFavor.push(vm.tempFavorItem); //將編輯中資料存入userFavor陣列\r\n          let name = vm.userData.username;\r\n          let favor = vm.userFavor;\r\n          let data = [{ username: name, favorData: favor }]; //整理傳入資料格式\r\n          let tempFavorData = JSON.parse(localStorage.getItem(\"favors\")); //暫存local的favors資料\r\n          if (!tempFavorData) {\r\n            localStorage.setItem(\"favors\", JSON.stringify(data)); //local無資料，直接傳入\r\n          } else {\r\n            tempFavorData.forEach(item => {\r\n              if (item.username == vm.userData.username) {\r\n                //local有資料，找到username同筆資料，整包替換\r\n                item.favorData = favor;\r\n              }\r\n            });\r\n            localStorage.setItem(\"favors\", JSON.stringify(tempFavorData)); //將替換完資料整筆傳入\r\n          }\r\n          //   vm.tempFavorItem = { name: \"\", content: \"\" };\r\n          //   document.querySelector(\"#url\").classList.remove(\"is-invalid\");\r\n          //   document.querySelector(\"#name\").classList.remove(\"is-invalid\");\r\n          this.$data.tempFavorItem = this.$options.data().tempFavorItem; //清除tempFavorItem資料回到預設值\r\n          this.errors.clear(); //清空所有errosBag錯誤訊息\r\n          this.$validator.reset(); //清空此validator狀態\r\n        }\r\n      });\r\n    },\r\n    delItem(index) {\r\n      const vm = this;\r\n      vm.userFavor.splice(index, 1); //從觸發item取得index，從資料中刪除\r\n      let favor = vm.userFavor;\r\n      let tempFavorData = JSON.parse(localStorage.getItem(\"favors\")); //暫存local的favor資料\r\n      tempFavorData.forEach(item => {\r\n        if (item.username == vm.userData.username) {\r\n          item.favorData = favor; //找到相同username替換整個favorData陣列資料\r\n          localStorage.setItem(\"favors\", JSON.stringify(tempFavorData)); //將替換完資料整筆傳入\r\n        }\r\n      });\r\n    },\r\n    logout(){\r\n      const vm = this\r\n      vm.$emit('userlogout')\r\n      vm.$router.push('/')\r\n    }\r\n  }\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}