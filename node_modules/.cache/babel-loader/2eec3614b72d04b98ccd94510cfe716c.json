{"remainingRequest":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Login.vue","mtime":1586341130504},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyZGF0YTogewogICAgICAgIC8v5pqr5a2Y6Ly45YWl5biz5a+GCiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMuJHJvdXRlLm1ldGEudGl0bGU7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLiR2YWxpZGF0b3IudmFsaWRhdGVBbGwoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICB2YXIgdGVtcFVzZXJkYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcnMiKSk7IC8v5pqr5a2Y5pW05YyFdXNlcnPos4fmlpkKCiAgICAgICAgICBpZiAodGVtcFVzZXJkYXRhKSB7CiAgICAgICAgICAgIHRlbXBVc2VyZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgLy/mnInos4fmlpnmmYLmr5TlsI3luLPomZ/jgIHlr4bnorzmmK/lkKbmnInlrozlhajnm7jnrKbnmoRpdGVtCiAgICAgICAgICAgICAgaWYgKGl0ZW0udXNlcm5hbWUgPT0gdm0udXNlcmRhdGEudXNlcm5hbWUgJiYgaXRlbS5wYXNzd29yZCA9PSB2bS51c2VyZGF0YS5wYXNzd29yZCkgewogICAgICAgICAgICAgICAgdm0uJGVtaXQoInVzZXJsb2dpbiIsIGl0ZW0udXNlcm5hbWUpOyAvL+aJvuWIsOWJh+eZu+WFpeaIkOWKn++8jOWwh3VzZXJuYW1l5YKz5Ye65Lim5LiU5bCO5ZCRZmF2b3LpoIHpnaIKCiAgICAgICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goIi9mYXZvciIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgd3JvbmdNc2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIud3JvbmdNc2ciKTsgLy/mib7kuI3liLDliYfmj5LlhaXpjK/oqqToqIrmga8KCiAgICAgICAgICAgICAgICB3cm9uZ01zZy5pbm5lckhUTUwgPSAiXHU1RTMzXHU4NjVGXHU2MjE2XHU1QkM2XHU3OEJDXHU5MzJGXHU4QUE0IjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIHdyb25nTXNnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLndyb25nTXNnIik7IC8vbG9jYWzmspLmnIl1c2Vyc+izh+aWme+8jOaPkuWFpeWgsemMr+ioiuaBrwoKICAgICAgICAgICAgd3JvbmdNc2cuaW5uZXJIVE1MID0gIlx1NjBBOFx1NkM5Mlx1NjcwOVx1OEEzQlx1NTE4QVx1OTA0RVx1NTRFNlx1RkYwMSI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA;AACA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA;AAHA;AADA,KAAA;AAOA,GATA;AAUA,EAAA,YAVA,0BAUA;AACA,IAAA,QAAA,CAAA,KAAA,GAAA,KAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,WAAA,GAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AACA,cAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA,CADA,CACA;;AACA,cAAA,YAAA,EAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA;AACA,kBACA,IAAA,CAAA,QAAA,IAAA,EAAA,CAAA,QAAA,CAAA,QAAA,IACA,IAAA,CAAA,QAAA,IAAA,EAAA,CAAA,QAAA,CAAA,QAFA,EAGA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,WAAA,EAAA,IAAA,CAAA,QAAA,EADA,CACA;;AACA,gBAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,eANA,MAMA;AACA,oBAAA,QAAA,GAAA,QAAA,CAAA,aAAA,CAAA,WAAA,CAAA,CADA,CACA;;AACA,gBAAA,QAAA,CAAA,SAAA;AACA;AACA,aAZA;AAaA,WAdA,MAcA;AACA,gBAAA,QAAA,GAAA,QAAA,CAAA,aAAA,CAAA,WAAA,CAAA,CADA,CACA;;AACA,YAAA,QAAA,CAAA,SAAA;AACA;AACA,SApBA,MAoBA;AACA;AACA;AACA,OAxBA;AAyBA;AA5BA;AAbA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container\">\r\n      <div class=\"row mt-5 justify-content-center\">\r\n        <div class=\"col-6 rounded border py-3\">\r\n          <h1 class=\"text-primary font-weight-bold\">記錄我的最愛</h1>\r\n          <h3 class=\"text-secondary\">Login</h3>\r\n          <form action>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"username\" class=\"col-form-label col-3\">使用者帳號</label>\r\n              <!-- 使用自訂規則username驗證 -->\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control col-9\"\r\n                id=\"username\"\r\n                v-validate=\"'required|username'\"\r\n                name=\"username\"\r\n                data-vv-as=\"使用者名稱\"\r\n                placeholder=\"請輸入使用者名稱\"\r\n                v-model=\"userdata.username\"\r\n                :class=\"{'is-invalid':errors.has('username'),'is-valid':!errors.has('username')&&userdata.username!==''}\"\r\n              />\r\n            </div>\r\n            <div class=\"col-form-label col py-0\">\r\n              <span\r\n                v-if=\"errors.has('username')\"\r\n                class=\"text-danger text-center small\"\r\n              >{{errors.first('username')}}</span>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"password\" class=\"col-form-label col-3\">使用者密碼</label>\r\n              <!-- 使用自訂規則password驗證 -->\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control col-9\"\r\n                id=\"password\"\r\n                v-validate=\"'required|password'\"\r\n                name=\"password\"\r\n                data-vv-as=\"使用者密碼\"\r\n                placeholder=\"請輸入使用者密碼\"\r\n                v-model=\"userdata.password\"\r\n                :class=\"{'is-invalid':errors.has('password'),'is-valid':!errors.has('password')&&userdata.password!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <span\r\n                  v-if=\"errors.has('password')\"\r\n                  class=\"text-danger text-center small\"\r\n                >{{errors.first('password')}}</span>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <!-- 直接使用router-link導向註冊頁面 -->\r\n          <router-link to=\"/signup\" class=\"btn btn-outline-info mt-3 mx-3\">註冊帳號</router-link>\r\n          <div class=\"btn btn-primary mt-3 mx-3\" @click=\"login\">登入系統</div>\r\n          <div class=\"row pt-4\">\r\n            <div class=\"col\">\r\n              <div class=\"wrongMsg text-center small text-danger\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userdata: {\r\n        //暫存輸入帳密\r\n        username: \"\",\r\n        password: \"\"\r\n      }\r\n    };\r\n  },\r\n  beforeCreate(){\r\n    document.title =this.$route.meta.title\r\n  },\r\n  methods: {\r\n    login() {\r\n      const vm = this;\r\n      vm.$validator.validateAll().then(result => {\r\n        if (result) {\r\n          let tempUserdata = JSON.parse(localStorage.getItem(\"users\")); //暫存整包users資料\r\n          if (tempUserdata) {\r\n            tempUserdata.forEach(function(item) {\r\n              //有資料時比對帳號、密碼是否有完全相符的item\r\n              if (\r\n                item.username == vm.userdata.username &&\r\n                item.password == vm.userdata.password\r\n              ) {\r\n                vm.$emit(\"userlogin\", item.username); //找到則登入成功，將username傳出並且導向favor頁面\r\n                vm.$router.push(\"/favor\");\r\n              } else {\r\n                let wrongMsg = document.querySelector(\".wrongMsg\"); //找不到則插入錯誤訊息\r\n                wrongMsg.innerHTML = `帳號或密碼錯誤`;\r\n              }\r\n            });\r\n          } else {\r\n            let wrongMsg = document.querySelector(\".wrongMsg\"); //local沒有users資料，插入報錯訊息\r\n            wrongMsg.innerHTML = `您沒有註冊過哦！`;\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>"],"sourceRoot":"src/components"}]}