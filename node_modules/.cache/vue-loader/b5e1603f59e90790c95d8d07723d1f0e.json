{"remainingRequest":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Signup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\User\\Desktop\\project\\vee\\src\\components\\Signup.vue","mtime":1586346054137},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586346047403},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\babel-loader\\lib\\index.js","mtime":1586346047190},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586346047403},{"path":"C:\\Users\\User\\Desktop\\project\\vee\\node_modules\\vue-loader\\lib\\index.js","mtime":1586346053661}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVzZXJkYXRhOiB7DQogICAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgICAgcGFzc3dvcmQ6ICIiLA0KICAgICAgICBuaWNrbmFtZTogIiINCiAgICAgIH0sDQogICAgICBjaGVja2RhdGE6IHsNCiAgICAgICAgcGFzc3dvcmQ6ICIiDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgYmVmb3JlQ3JlYXRlKCl7DQogICAgZG9jdW1lbnQudGl0bGUgPXRoaXMuJHJvdXRlLm1ldGEudGl0bGUNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNpZ251cCgpIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcmRhdGEpOw0KICAgICAgY29uc3Qgdm0gPSB0aGlzOw0KICAgICAgdm0uJHZhbGlkYXRvci52YWxpZGF0ZUFsbCgpLnRoZW4ocmVzdWx0ID0+IHsNCiAgICAgICAgaWYgKHJlc3VsdCkgew0KICAgICAgICAgIGxldCB0ZW1wVXNlcmRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VycyIpKTsgLy/mmqvlrZjmlbTljIV1c2Vyc+izh+aWmemAsuihjOavlOWwjQ0KICAgICAgICAgIGlmICh0ZW1wVXNlcmRhdGEpIHsNCiAgICAgICAgICAgIHRlbXBVc2VyZGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICBpZiAoaXRlbS51c2VybmFtZSA9PSB2bS51c2VyZGF0YS51c2VybmFtZSkgeyAvL+avlOWwjeacieebuOWQjOW4s+iZn+aZguWgsemMr++8jOWbnuWIsOeZu+WFpeeVq+mdog0KICAgICAgICAgICAgICAgIGFsZXJ0KCLkvb/nlKjogIXluLPomZ/lt7LooqvoqLvlhorpgY7vvIzoq4vnm7TmjqXnmbvlhaUiKTsNCiAgICAgICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0ZW1wVXNlcmRhdGEucHVzaCh2bS51c2VyZGF0YSk7IC8v5rKS5pyJ55u45ZCM5biz6Jmf5YmH5bCH5q2k5biz6Jmf6LOH5paZ5a2Y5YWl5pW05YyFdXNlcnMNCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlcnMiLCBKU09OLnN0cmluZ2lmeSh0ZW1wVXNlcmRhdGEpKTsNCiAgICAgICAgICAgICAgICBhbGVydCgi6Ki75YaK5oiQ5Yqf77yBIik7DQogICAgICAgICAgICAgICAgdm0uJGVtaXQoInVzZXJsb2dpbiIsIHZtLnVzZXJkYXRhLnVzZXJuYW1lKTsgLy/lgrPlh7p1c2VybmFtZeizh+aWmeWIsOeItuWFg+S7tu+8jOWwjuWQkWZhdm9y55Wr6Z2iDQogICAgICAgICAgICAgICAgdm0uJHJvdXRlci5wdXNoKCIvZmF2b3IiKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsgLy9sb2NhbOaykuaciXVzZXJz6LOH5paZ5pmC55u05o6l5pW05YyF5a2Y5YWlDQogICAgICAgICAgICB0ZW1wVXNlcmRhdGEgPSBbXTsNCiAgICAgICAgICAgIHRlbXBVc2VyZGF0YS5wdXNoKHZtLnVzZXJkYXRhKTsNCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VycyIsIEpTT04uc3RyaW5naWZ5KHRlbXBVc2VyZGF0YSkpOw0KICAgICAgICAgICAgYWxlcnQoIuiou+WGiuaIkOWKn++8gSIpOw0KICAgICAgICAgICAgdm0uJGVtaXQoInVzZXJsb2dpbiIsIHZtLnVzZXJkYXRhLnVzZXJuYW1lKTsgLy/lgrPlh7p1c2VybmFtZeizh+aWmeWIsOeItuWFg+S7tu+8jOWwjuWQkWZhdm9y55Wr6Z2iDQogICAgICAgICAgICB2bS4kcm91dGVyLnB1c2goIi9mYXZvciIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signup.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container pt-5\">\r\n      <div class=\"row py-1 justify-content-center\">\r\n        <div class=\"col-8 d-flex justify-content-start\">\r\n          <router-link to=\"/\" class=\"btn btn-secondary\">回到登入頁</router-link>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-8 rounded border py-3 px-5\">\r\n          <h1 class=\"font-weight-bold\">註冊我的最愛系統</h1>\r\n          <form action>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"username\" class=\"col-form-label col-3\">使用者帳號</label>\r\n              <!-- 使用自訂規則username進行驗證 -->\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control col-9\"\r\n                id=\"username\"\r\n                v-validate=\"'required|username'\"\r\n                name=\"username\"\r\n                data-vv-as=\"使用者名稱\"\r\n                placeholder=\"請輸入使用者名稱\"\r\n                v-model=\"userdata.username\"\r\n                :class=\"{'is-invalid':errors.has('username'),'is-valid':!errors.has('username')&&userdata.username!==''}\"\r\n              />\r\n            </div>\r\n            <div class=\"col-form-label col py-0\">\r\n              <span\r\n                v-if=\"errors.has('username')\"\r\n                class=\"text-danger text-center small\"\r\n              >{{errors.first('username')}}</span>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <!-- 使用自訂規則password進行驗證 -->\r\n              <label for=\"password\" class=\"col-form-label col-3\">使用者密碼</label>\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control col-9\"\r\n                id=\"password\"\r\n                v-validate=\"'required|password'\"\r\n                name=\"password\"\r\n                ref=\"password\"\r\n                data-vv-as=\"使用者密碼\"\r\n                placeholder=\"請輸入使用者密碼\"\r\n                v-model=\"userdata.password\"\r\n                :class=\"{'is-invalid':errors.has('password'),'is-valid':!errors.has('password')&&userdata.password!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <span\r\n                  v-if=\"errors.has('password')\"\r\n                  class=\"text-danger text-center small\"\r\n                >{{errors.first('password')}}</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"password-confirm\" class=\"col-form-label col-3\">確認密碼</label>\r\n              <!-- 使用預設confirmed規則進行password比對 -->\r\n              <input\r\n                type=\"password\"\r\n                class=\"form-control col-9\"\r\n                id=\"password-confirm\"\r\n                v-validate=\"'required|confirmed:password'\"\r\n                name=\"password-confirm\"\r\n                data-vv-as=\"確認密碼\"\r\n                placeholder=\"請再次輸入密碼\"\r\n                v-model=\"checkdata.password\"\r\n                :class=\"{'is-invalid':errors.has('password-confirm'),'is-valid':!errors.has('password-confirm')&&checkdata.password==userdata.password&&userdata.password!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <!-- 自訂錯誤訊息：有資料時錯誤為不相同、無資料時錯誤為未填欄位 -->\r\n                <span\r\n                  v-if=\"errors.has('password-confirm')&&checkdata.password!==''\"\r\n                  class=\"text-danger text-center small\"\r\n                >兩次密碼輸入不相同哦！</span>\r\n                <span\r\n                  v-if=\"errors.has('password-confirm')&&checkdata.password==''\"\r\n                  class=\"text-danger text-center small\"\r\n                >確認密碼欄位是必填的哦！</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group form-row mb-0 mt-3\">\r\n              <label for=\"password-confirm\" class=\"col-form-label col-3\">用戶暱稱</label>\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control col-9\"\r\n                id=\"nickname\"\r\n                v-validate=\"'min:2'\"\r\n                name=\"nickname\"\r\n                data-vv-as=\"用戶暱稱\"\r\n                placeholder=\"請輸入暱稱 (option)\"\r\n                v-model=\"userdata.nickname\"\r\n                :class=\"{'is-invalid':errors.has('nickname'),'is-valid':!errors.has('nickname')&&userdata.nickname!==''}\"\r\n              />\r\n              <div class=\"col-form-label col py-0\">\r\n                <span\r\n                  v-if=\"errors.has('nickname')\"\r\n                  class=\"text-danger text-center small\"\r\n                >{{errors.first('nickname')}}</span>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <div class=\"btn btn-primary mt-3 mx-3\" @click=\"signup\">註冊系統</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      userdata: {\r\n        username: \"\",\r\n        password: \"\",\r\n        nickname: \"\"\r\n      },\r\n      checkdata: {\r\n        password: \"\"\r\n      }\r\n    };\r\n  },\r\n  beforeCreate(){\r\n    document.title =this.$route.meta.title\r\n  },\r\n  methods: {\r\n    signup() {\r\n      // console.log(this.userdata);\r\n      const vm = this;\r\n      vm.$validator.validateAll().then(result => {\r\n        if (result) {\r\n          let tempUserdata = JSON.parse(localStorage.getItem(\"users\")); //暫存整包users資料進行比對\r\n          if (tempUserdata) {\r\n            tempUserdata.forEach(item => {\r\n              if (item.username == vm.userdata.username) { //比對有相同帳號時報錯，回到登入畫面\r\n                alert(\"使用者帳號已被註冊過，請直接登入\");\r\n                vm.$router.push(\"/\");\r\n              } else {\r\n                tempUserdata.push(vm.userdata); //沒有相同帳號則將此帳號資料存入整包users\r\n                localStorage.setItem(\"users\", JSON.stringify(tempUserdata));\r\n                alert(\"註冊成功！\");\r\n                vm.$emit(\"userlogin\", vm.userdata.username); //傳出username資料到父元件，導向favor畫面\r\n                vm.$router.push(\"/favor\");\r\n              }\r\n            });\r\n          } else { //local沒有users資料時直接整包存入\r\n            tempUserdata = [];\r\n            tempUserdata.push(vm.userdata);\r\n            localStorage.setItem(\"users\", JSON.stringify(tempUserdata));\r\n            alert(\"註冊成功！\");\r\n            vm.$emit(\"userlogin\", vm.userdata.username); //傳出username資料到父元件，導向favor畫面\r\n            vm.$router.push(\"/favor\");\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>"]}]}